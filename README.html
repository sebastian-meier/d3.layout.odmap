<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
</head>
<body>
<h1 id="d3.layout.odmap">d3.layout.odmap</h1>

<p>d3 layout helper for origin-destination visualizations (od-maps). Using the helper one can switch between various visualizations without and data handling. Explore the examples here: http://prjcts.sebastianmeier.eu/odmap/example/index.html</p>

<figure>
<img src="https://raw.githubusercontent.com/sebastian-meier/d3.layout.odmap.js/master/img/overview.png" alt="Examples" />
<figcaption>Examples</figcaption>
</figure>

<h2 id="data">Data</h2>

<p>This layout helper takes care of the data handling for origin-destination visualizations. The data needs to be in the following format:</p>

<pre><code>id,     x, y, id_1, id_2
id_1,   1, 1, 1,    2
id_2,   1, 1, 1,    2
</code></pre>

<p>The first column holds the ids of all origins. x/y represent geographic coordinates. The other columns hold the origin destination data, the columns need to be have the same labels as the ids in the first column.</p>

<h2 id="usage">Usage</h2>

<pre><code>od = d3.layout.odmap({
    //Size of the output visualization
    width:550,
    height:550
});

//Send the data
od.data(data);

</code></pre>

<p>To receive data for a certain visualization use on of the following functions:
```
var d = od.geo(od.geo());
var d = od.grid(od.grid());
var d = od.nmap(od.nmap());
var d = od.list(od.list());
var d = od.matrix(od.matrix());
var d = od.hand(od.hand());</p>

<p>//A little bit more specialized outputs
var d = od.sankey();
var d = od.bipartite();
```
<img src="https://raw.githubusercontent.com/sebastian-meier/d3.layout.odmap.js/master/img/od-do.png" alt="od-do" /></p>

<p>Its easy to toggle between origin-destination and destination origin:</p>

<pre><code>od.toggle();
</code></pre>

<figure>
<img src="https://raw.githubusercontent.com/sebastian-meier/d3.layout.odmap.js/master/img/insideout.png" alt="InsideOut" />
<figcaption>InsideOut</figcaption>
</figure>

<p>After calling the toggle function require the data again. The nested functions allow to request different layouts for outer and inner positions:</p>

<pre><code>var d = od.geo(od.grid());
</code></pre>

<p>Take a look at the interactive explorer: http://prjcts.sebastianmeier.eu/odmap/example/index.html</p>

<p>Most visualizations focus on the geographic space, but the layout also includes matrix and list views.</p>

<figure>
<img src="https://raw.githubusercontent.com/sebastian-meier/d3.layout.odmap.js/master/img/matrix.png" alt="Matrix" />
<figcaption>Matrix</figcaption>
</figure>

<p>And additionally data preparation for the biPartite plugin and the sankey plugin.</p>

<p><img src="https://raw.githubusercontent.com/sebastian-meier/d3.layout.odmap.js/master/img/bipartite.png" alt="biPartite" />
http://prjcts.sebastianmeier.eu/odmap/example/bipartite.html</p>

<p><img src="https://raw.githubusercontent.com/sebastian-meier/d3.layout.odmap.js/master/img/sankey.png" alt="Sankey" />
http://prjcts.sebastianmeier.eu/odmap/example/sankey.html</p>

</body>
</html>
